{"version":3,"file":"withStyles.js","sources":["src/withStyles.js"],"sourcesContent":["/**\n * Isomorphic CSS style loader for Webpack\n *\n * Copyright Â© 2015-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport hoistStatics from 'hoist-non-react-statics'\n\nimport StyleContext from './StyleContext'\n\nfunction withStyles(...styles) {\n  return function wrapWithStyles(ComposedComponent) {\n    class WithStyles extends React.PureComponent {\n      constructor(props, context) {\n        super(props, context)\n        this.removeCss = context.insertCss(...styles)\n      }\n\n      componentWillUnmount() {\n        if (typeof this.removeCss === 'function') {\n          setTimeout(this.removeCss, 0)\n        }\n      }\n\n      render() {\n        const { __$$withStylesRef, ...props } = this.props\n        return <ComposedComponent ref={__$$withStylesRef} {...props} />\n      }\n    }\n\n    const displayName = ComposedComponent.displayName || ComposedComponent.name || 'Component'\n\n    WithStyles.propTypes = {\n      __$$withStylesRef: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.shape({\n          current: PropTypes.instanceOf(typeof Element === 'undefined' ? Function : Element),\n        }),\n      ]),\n    }\n\n    WithStyles.defaultProps = {\n      __$$withStylesRef: undefined,\n    }\n\n    WithStyles.contextType = StyleContext\n\n    const ForwardedWithStyles = React.forwardRef((props, ref) => (\n      <WithStyles {...props} __$$withStylesRef={ref} />\n    ))\n\n    ForwardedWithStyles.ComposedComponent = ComposedComponent\n    ForwardedWithStyles.displayName = `WithStyles(${displayName})`\n\n    return hoistStatics(ForwardedWithStyles, ComposedComponent)\n  }\n}\n\nexport default withStyles\n"],"names":["withStyles","styles","wrapWithStyles","ComposedComponent","WithStyles","props","context","removeCss","insertCss","componentWillUnmount","setTimeout","render","__$$withStylesRef","React","PureComponent","displayName","name","propTypes","PropTypes","oneOfType","func","shape","current","instanceOf","Element","Function","defaultProps","undefined","contextType","StyleContext","ForwardedWithStyles","forwardRef","ref","hoistStatics"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,SAASA,UAAU,GAAY;EAAA,kCAARC,MAAM;IAANA,MAAM;;EAC3B,OAAO,SAASC,cAAc,CAACC,iBAAiB,EAAE;IAAA,IAC1CC,UAAU;MAAA;MACd,oBAAYC,KAAK,EAAEC,OAAO,EAAE;QAAA;QAC1B,wCAAMD,KAAK,EAAEC,OAAO,CAAC;QACrB,MAAKC,SAAS,GAAGD,OAAO,CAACE,SAAS,OAAjBF,OAAO,EAAcL,MAAM,CAAC;QAAA;;MAC9C;MAAA,OAEDQ,oBAAoB,GAApB,gCAAuB;QACrB,IAAI,OAAO,IAAI,CAACF,SAAS,KAAK,UAAU,EAAE;UACxCG,UAAU,CAAC,IAAI,CAACH,SAAS,EAAE,CAAC,CAAC;;OAEhC;MAAA,OAEDI,MAAM,GAAN,kBAAS;QACP,kBAAwC,IAAI,CAACN,KAAK;UAA1CO,iBAAiB,eAAjBA,iBAAiB;UAAKP,KAAK;QACnC,OAAO,oBAAC,iBAAiB;UAAC,GAAG,EAAEO;WAAuBP,KAAK,EAAI;OAChE;MAAA;MAfsBQ,KAAK,CAACC,aAAa;IAkB5C,IAAMC,WAAW,GAAGZ,iBAAiB,CAACY,WAAW,IAAIZ,iBAAiB,CAACa,IAAI,IAAI,WAAW;IAE1FZ,UAAU,CAACa,SAAS,GAAG;MACrBL,iBAAiB,EAAEM,SAAS,CAACC,SAAS,CAAC,CACrCD,SAAS,CAACE,IAAI,EACdF,SAAS,CAACG,KAAK,CAAC;QACdC,OAAO,EAAEJ,SAAS,CAACK,UAAU,CAAC,OAAOC,OAAO,KAAK,WAAW,GAAGC,QAAQ,GAAGD,OAAO;OAClF,CAAC,CACH;KACF;IAEDpB,UAAU,CAACsB,YAAY,GAAG;MACxBd,iBAAiB,EAAEe;KACpB;IAEDvB,UAAU,CAACwB,WAAW,GAAGC,YAAY;IAErC,IAAMC,mBAAmB,GAAGjB,KAAK,CAACkB,UAAU,CAAC,UAAC1B,KAAK,EAAE2B,GAAG;MAAA,OACtD,oBAAC,UAAU,eAAK3B,KAAK;QAAE,iBAAiB,EAAE2B;SAAO;KAClD,CAAC;IAEFF,mBAAmB,CAAC3B,iBAAiB,GAAGA,iBAAiB;IACzD2B,mBAAmB,CAACf,WAAW,mBAAiBA,WAAW,MAAG;IAE9D,OAAOkB,YAAY,CAACH,mBAAmB,EAAE3B,iBAAiB,CAAC;GAC5D;AACH;;;;"}