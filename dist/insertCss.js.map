{"version":3,"file":"insertCss.js","sources":["src/insertCss.js"],"sourcesContent":["/**\n * Isomorphic CSS style loader for Webpack\n *\n * Copyright Â© 2015-present Kriasoft, LLC. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst inserted = {}\n\n// Base64 encoding and decoding - The \"Unicode Problem\"\n// https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#The_Unicode_Problem\nfunction b64EncodeUnicode(str) {\n  return btoa(\n    encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (match, p1) =>\n      String.fromCharCode(`0x${p1}`),\n    ),\n  )\n}\n\n/**\n * Remove style/link elements for specified node IDs\n * if they are no longer referenced by UI components.\n */\nfunction removeCss(ids) {\n  ids.forEach((id) => {\n    if (--inserted[id] <= 0) {\n      const elem = document.getElementById(id)\n      if (elem) {\n        elem.parentNode.removeChild(elem)\n      }\n    }\n  })\n}\n\n/**\n * Example:\n *   // Insert CSS styles object generated by `css-loader` into DOM\n *   var removeCss = insertCss([[1, 'body { color: red; }']]);\n *\n *   // Remove it from the DOM\n *   removeCss();\n */\nfunction insertCss(styles, { replace = false, prepend = false, prefix = 's' } = {}) {\n  const ids = []\n  for (let i = 0; i < styles.length; i++) {\n    const [moduleId, css, media, sourceMap] = styles[i]\n    const id = `${prefix}${moduleId}-${i}`\n\n    ids.push(id)\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++\n        continue\n      }\n    }\n\n    inserted[id] = 1\n\n    let elem = document.getElementById(id)\n    let create = false\n\n    if (!elem) {\n      create = true\n\n      elem = document.createElement('style')\n      elem.setAttribute('type', 'text/css')\n      elem.id = id\n\n      if (media) {\n        elem.setAttribute('media', media)\n      }\n    }\n\n    let cssText = css\n    if (sourceMap && typeof btoa === 'function') {\n      // skip IE9 and below, see http://caniuse.com/atob-btoa\n      cssText += `\\n/*# sourceMappingURL=data:application/json;base64,${b64EncodeUnicode(\n        JSON.stringify(sourceMap),\n      )}*/`\n      cssText += `\\n/*# sourceURL=${sourceMap.file}?${id}*/`\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText\n    } else {\n      elem.styleSheet.cssText = cssText\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0])\n      } else {\n        document.head.appendChild(elem)\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids)\n}\n\nmodule.exports = insertCss\n"],"names":["inserted","b64EncodeUnicode","str","btoa","encodeURIComponent","replace","match","p1","String","fromCharCode","removeCss","ids","forEach","id","elem","document","getElementById","parentNode","removeChild","insertCss","styles","prepend","prefix","i","length","moduleId","css","media","sourceMap","push","create","createElement","setAttribute","cssText","JSON","stringify","file","textContent","styleSheet","head","insertBefore","childNodes","appendChild","bind","module","exports"],"mappings":"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"}